# til for 2024-11-1

テーブル名を適当に設定してしまい後から変えたくなってモデルファイルやマイグレーションファイルを手動でいじっていたら、スキーマファイルとの差分が出てしまい、そのまま進めていたので何が起こっているのかもわからない状態に。db:migrate:resetして適用しなおそうとしたらエラーが出るし。
理由にたどり着けずイライラしてしまいリポジトリとディレクトリごと削除する暴挙に出ました。
消したはいいもののそのあとややこしく。


一度マイグレーションファイル作成してデータベースに適用すると、ディレクトリ消してもデータベースには一度作ったテーブル残ってるのよ。
あとマイグレーションファイルも残ってた。nofileになってるけどid残って新しいマイグレーションファイル適用できなかったから、
コンソール入ってデータベースにアクセスしテーブル消すことと、（多対多のアソシエーション組んでたから強制的にアソシエーション解除したいと消せない）
マイグレーションファイルは消したいidのファイルにhogeとかで名前つけてhogeで定数指定してからstatusをdownさせないとダメ。（定数はなんでもいいけどほんとに中身書いてない空のファイルだと消せない！！って駄々こねてくるヨ）
これらを経てなんとか、本当に一からやり直すことができました。

マイグレーションファイルを編集したときは　db:migrate:reset　してから　db:migrate　しないとスキーマファイルに反映されないぞ！！！